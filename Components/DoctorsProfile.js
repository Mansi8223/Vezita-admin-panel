import React, { useState } from 'react'
function DoctorsProfile({data}) {
  const[view,setView]=useState(false)
  if(data.bio){
    var bio = data.bio
    var s = bio.split('.')
    var arr = s.slice(0,2)
  }
  const viewHandler=()=>setView(true)
  return (
    <div className={`col-12 h-fit-content d-flex d-flex-column d-align-start gap-4 bg-subtle rounded-12 p-4`}>
      <div className={`col-12 d-flex d-flex-row d-align-start gap-4`}>
        {data.image&&<img className={`image`} src={data.image} alt='doctors-profile'/>}
        <div className={`d-flex d-flex-column d-align-start gap-1`}>
          <h3 className={`f-600 l-28 text-darker`}>{data.title} {data.fullName}</h3>
          {data.specialization&&data.specialization.map((item,index)=>(
            <>{item.specializationId&&<h5 key={index+1} className={`f-600 l-22 text-dark-grey mb-1`}>{item.specializationId.name}</h5>}</>
            ))}
          {data.qualifications&&data.qualifications.map((item,index)=>(
            <h5 key={index+1} className={`f-500 l-22 text-dark-grey`}>{item.degree}</h5>))}
            {data.totalExperiences?<h5 className={`f-600 l-20 text-darker-grey`}>{data.totalExperiences} yrs expertise</h5>:<h5></h5>}          <div className={`d-flex d-flex-row d-align-center gap-3 mt-1`}>
            {data.ratingsAverage?<div className={`d-flex d-flex-row d-align-center gap-1`}>
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.7964 6.31641L10.3246 8.37266L11.1066 11.55C11.1425 11.6832 11.1475 11.8228 11.121 11.9582C11.0946 12.0936 11.0374 12.2211 10.954 12.331C10.8705 12.4409 10.763 12.5301 10.6397 12.5919C10.5163 12.6537 10.3805 12.6864 10.2425 12.6875C10.0736 12.6867 9.90842 12.6374 9.76675 12.5453L7.00503 10.8008H6.99409L4.42925 12.425C4.26356 12.5295 4.07045 12.5823 3.87463 12.5764C3.67881 12.5706 3.48919 12.5064 3.33003 12.3922C3.16606 12.2725 3.04187 12.1063 2.9736 11.9152C2.90533 11.724 2.89614 11.5168 2.94722 11.3203L3.6855 8.41641L1.20269 6.31641C1.06183 6.1987 0.959452 6.0415 0.908766 5.86508C0.85808 5.68865 0.861404 5.50108 0.918312 5.32656C0.973728 5.15468 1.07945 5.00338 1.22179 4.89223C1.36414 4.78108 1.53656 4.71521 1.71675 4.70312L4.94331 4.49531L6.16831 1.44375C6.23401 1.27663 6.34836 1.13307 6.49656 1.03167C6.64476 0.93027 6.81999 0.875691 6.99956 0.875C7.17913 0.875691 7.35436 0.93027 7.50256 1.03167C7.65077 1.13307 7.76512 1.27663 7.83081 1.44375L9.03394 4.47891L12.2824 4.70312C12.4628 4.71447 12.6356 4.78007 12.778 4.89132C12.9205 5.00258 13.0261 5.15429 13.0808 5.32656C13.1377 5.50108 13.141 5.68865 13.0904 5.86508C13.0397 6.0415 12.9373 6.1987 12.7964 6.31641Z" fill="#19B46E"/>
              </svg>
              <h6 className={`f-500 l-20 text-green`}>{data.ratingsAverage}/5 ratings</h6>
            </div>:<h6 className={`f-500 l-20 text-green`}>no ratings</h6>}
            {data.numOfPatientConsulted?<div className={`d-flex d-flex-row d-align-center gap-1`}>
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.50002 7.65628C3.50075 7.71393 3.48994 7.77115 3.46821 7.82457C3.44648 7.87798 3.41429 7.9265 3.37351 7.96727C3.33274 8.00805 3.28422 8.04024 3.23081 8.06197C3.17739 8.0837 3.12017 8.09451 3.06252 8.09378H0.656267C0.57499 8.09312 0.495421 8.07038 0.426066 8.028C0.356712 7.98561 0.300181 7.92518 0.262517 7.85315C0.227494 7.77981 0.213064 7.69832 0.22077 7.6174C0.228476 7.53649 0.258029 7.45919 0.306267 7.39378C0.693448 6.87404 1.21009 6.46487 1.8047 6.20706C1.5492 5.97317 1.35289 5.68196 1.23194 5.35737C1.11098 5.03279 1.06883 4.68412 1.10896 4.34007C1.14909 3.99602 1.27035 3.66641 1.46277 3.37838C1.65518 3.09035 1.91325 2.85213 2.21572 2.68333C2.51819 2.51453 2.85643 2.41997 3.20259 2.40744C3.54875 2.39491 3.89294 2.46476 4.20683 2.61125C4.52071 2.75773 4.79533 2.97667 5.00807 3.25003C5.2208 3.52339 5.36558 3.84337 5.43049 4.18362C5.44667 4.27224 5.43544 4.36368 5.39831 4.44576C5.36118 4.52783 5.29991 4.59664 5.22267 4.643C4.51536 5.06242 3.97741 5.71648 3.70236 6.49143C3.56677 6.86475 3.49827 7.2591 3.50002 7.65628ZM13.6938 7.39378C13.3066 6.87404 12.7899 6.46487 12.1953 6.20706C12.4508 5.97317 12.6471 5.68196 12.7681 5.35737C12.8891 5.03279 12.9312 4.68412 12.8911 4.34007C12.8509 3.99602 12.7297 3.66641 12.5373 3.37838C12.3449 3.09035 12.0868 2.85213 11.7843 2.68333C11.4818 2.51453 11.1436 2.41997 10.7974 2.40744C10.4513 2.39491 10.1071 2.46476 9.79321 2.61125C9.47932 2.75773 9.20471 2.97667 8.99197 3.25003C8.77923 3.52339 8.63445 3.84337 8.56955 4.18362C8.55337 4.27224 8.56459 4.36368 8.60172 4.44576C8.63885 4.52783 8.70012 4.59664 8.77736 4.643C9.4856 5.06135 10.0239 5.71578 10.2977 6.49143C10.4333 6.86475 10.5018 7.2591 10.5 7.65628C10.4993 7.71393 10.5101 7.77115 10.5318 7.82457C10.5536 7.87798 10.5857 7.9265 10.6265 7.96727C10.6673 8.00805 10.7158 8.04024 10.7692 8.06197C10.8226 8.0837 10.8799 8.09451 10.9375 8.09378H13.3438C13.425 8.09378 13.5047 8.07115 13.5738 8.02844C13.6429 7.98572 13.6987 7.9246 13.7351 7.85193C13.7714 7.77926 13.7868 7.69791 13.7795 7.61699C13.7722 7.53607 13.7425 7.45878 13.6938 7.39378ZM8.59689 9.73987C9.0323 9.40614 9.35222 8.94438 9.51168 8.41947C9.67114 7.89456 9.66214 7.33288 9.48594 6.81335C9.30974 6.29382 8.97519 5.84255 8.52931 5.52294C8.08343 5.20333 7.54861 5.03146 7.00002 5.03146C6.45142 5.03146 5.91661 5.20333 5.47073 5.52294C5.02484 5.84255 4.6903 6.29382 4.5141 6.81335C4.3379 7.33288 4.3289 7.89456 4.48836 8.41947C4.64782 8.94438 4.96773 9.40614 5.40314 9.73987C4.55249 10.1175 3.86286 10.7839 3.45627 11.6211C3.42392 11.6877 3.40943 11.7615 3.41422 11.8353C3.41902 11.9091 3.44293 11.9804 3.48361 12.0422C3.52148 12.1056 3.57515 12.1581 3.63937 12.1945C3.7036 12.2309 3.77618 12.2501 3.85002 12.25H10.15C10.2239 12.2501 10.2964 12.2309 10.3607 12.1945C10.4249 12.1581 10.4786 12.1056 10.5164 12.0422C10.5571 11.9804 10.581 11.9091 10.5858 11.8353C10.5906 11.7615 10.5761 11.6877 10.5438 11.6211C10.1372 10.7839 9.44754 10.1175 8.59689 9.73987Z" fill="#19B46E"/>
              </svg>
              <h6 className={`f-500 l-20 text-green`}>{data.numOfPatientConsulted} patients consulted</h6>
            </div>:<h6 className={`f-500 l-20 text-green`}>no patients consulted</h6>}
          </div>
        </div>
      </div>
      <div className={`col-12 d-flex d-flex-column d-align-start`}>
        <h4 className={`f-600 l-26 text-darker`}>About Jane</h4>
        {arr&&<div className={`col-12 d-flex d-flex-column`}>
          {view?<p className={`f-400 l-22 text-darker-grey`}>{bio}.</p>:
          <p className={`f-400 l-22 text-darker-grey`}>{arr[0]}. {arr[1]}</p>}
          <div className={`d-flex d-flex-row gap-2 self-end`}>
            {view?<h4 onClick={()=>setView(false)} className={`f-600 l-20 text-uppercase text-primary`}>View less</h4>:<h4 onClick={viewHandler} className={`f-600 l-20 text-uppercase text-primary`}>View details</h4>}
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.49986 17.1875C7.25132 17.1865 7.01303 17.0883 6.8358 16.9141C6.7484 16.827 6.67905 16.7235 6.63173 16.6096C6.58442 16.4956 6.56006 16.3734 6.56006 16.25C6.56006 16.1266 6.58442 16.0045 6.63173 15.8905C6.67905 15.7766 6.7484 15.6731 6.8358 15.586L12.4217 10L6.8358 4.4141C6.65968 4.23798 6.56073 3.99911 6.56073 3.75004C6.56073 3.62671 6.58503 3.50459 6.63222 3.39065C6.67942 3.27671 6.74859 3.17318 6.8358 3.08598C6.923 2.99877 7.02653 2.9296 7.14047 2.8824C7.25441 2.8352 7.37653 2.81091 7.49986 2.81091C7.74893 2.81091 7.9878 2.90986 8.16392 3.08598L14.4139 9.33598C14.5013 9.42307 14.5707 9.52657 14.618 9.64052C14.6653 9.75448 14.6897 9.87665 14.6897 10C14.6897 10.1234 14.6653 10.2456 14.618 10.3596C14.5707 10.4735 14.5013 10.577 14.4139 10.6641L8.16392 16.9141C7.98669 17.0883 7.7484 17.1865 7.49986 17.1875Z" fill="#3085F4"/>
            </svg>
          </div>
        </div>}
      </div>
    </div>
  )
}

export default DoctorsProfile